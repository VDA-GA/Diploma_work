# Сервис авторизации по номеру телефона

### Описание

Сервис включает:

- Авторизация включает ввод номера телефона, имитацию отправки смс-кода, запрос на введение номера телефона и присланного кода. Если пользователь новый, то он заноситься в БД.
- При создании пользователя для него генерируется инвайт-код, который отображается в профиле.
- Пользователь может один раз активировать инвайн-код пригласившего его пользователя .
- Список номеров телефонов пользователей, которые активировали инвайт-код текущего пользователя включен в его профиль.


### Установка
Использовать docker c командой 'docker-compose up -d --build'

### Работа с сервисом

Приложение поддерживает работу через Postman, отдельно реализван браузерный вариант.  

Вариант работы через Postman:
`[POST] /api/get_code/` запрос на номер телефона, возвращает номер и id пользователя. Код приходит в terminal.
`[POST] /api/token/` - запрашивает номер телефона "phone" и код из sms "password", возвращает JWT tokens
После введения в header запросов Authorization со значением Bearer access_token, возможны следующие действия:
`[GET] /api/profile/` - выдает данные профиля текущего пользователя ввиде JSON:
```json
{
    "id": 19,
    "phone": "79998880909",
    "invite_code": "f799ca",
    "activate_code": "h790nt",
    "invited_users": ["77777777", "99999999999"]
}
```

`[PUT] /api/activate/` или `[PATCH] /api/activate/` - запрашивает инвайт-код пригласившего пользователя ("activate_code") 

Браузерная версия начинается с url-запроса '/get_code/', дальнейшая работа идет через интуитивный интерфейс, переход между endpoints автоматический

### Документация

Документация доступна по ссылкам '/swagger/' и '/redoc/'
